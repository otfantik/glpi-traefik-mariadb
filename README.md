FAQ
1. Что это такое ? 

- GLPI – это система управления IT-активами и тикетами. По сути, это веб-приложение, которое помогает компаниям отслеживать оборудование, программное обеспечение и запросы пользователей. Значит, GLPI будет основным приложением, которое пользователи используют.

- MariaDB – это база данных, форк MySQL. GLPI, как и многие веб-приложения, требует базу данных для хранения своей информации. То есть MariaDB будет хранить все данные GLPI: пользователей, тикеты, активы и т.д.

- Traefik – это обратный прокси и балансировщик нагрузки. Он управляет входящими запросами к веб-приложениям, направляя их в нужные места. Также Traefik может автоматически управлять SSL-сертификатами через Let's Encrypt, что удобно для HTTPS.

2. Как это работает ?

- Пользователь обращается к GLPI через браузер, вводит доменное имя.

- Запрос попадает на Traefik, который действует как обратный прокси. Traefik определяет, на основе домена, куда направить запрос – в контейнер с GLPI.

- GLPI, получив запрос, обращается к MariaDB за данными (например, проверить логин пользователя).

- MariaDB возвращает данные GLPI, который формирует ответ и отправляет обратно через Traefik пользователю.

3. Что требуется?

- Docker
- Docker-compose
- openssl (для настройки безопасного подключения через самоподписанный сертификат)
  
ALARM: Предварительно измените в каждом данные .yml файле о юзерах / паролях / доменах на удобные для себя 

Каждый .yml содержит максимально подробные комментарии о начинке

_____________________________________________________________________________________________________________________________________________________

Шаг 1

_____________________________________________________________________________________________________________________________________________________

Обновим связи, создадим сеть для связи контейнеров (можно использовать любое наименование сети, но так же ее нужно отконфигирурировать в .yml файлах)

	- sudo apt update
  	- sudo docker network create proxy
_____________________________________________________________________________________________________________________________________________________

Шаг 2

_____________________________________________________________________________________________________________________________________________________
Клонируем репозиторий с файлами конфигурации в текущий корневой католог нашего сервера Ubuntu

	- cd 
	 - git clone https://github.com/otfantik/glpi-traefik-mariadb.git
  
_____________________________________________________________________________________________________________________________________________________

Шаг 3

_____________________________________________________________________________________________________________________________________________________
Настройка самоподписанных ssl-сертификатов ( домены указаны в примере), срок действия указывается в -days (в нашем случае 365 дней) 

	-sudo mkdir /glpi-traefik-mariadb/traefik/ssl_certificates	
	-cd /glpi-traefik-mariadb/traefik/ssl_certificates
 	-openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 -keyout glpi.company.local.key -out glpi.company.local.crt
	-openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 -keyout traefik.company.local.key -out traefik.company.local.crt



_____________________________________________________________________________________________________________________________________________________

Шаг 4

_____________________________________________________________________________________________________________________________________________________
Конфигурация DNS 

1. Задать следующие статические параметры DNS сервера сети 

		SERVER_IP  glpi.company.local
		SERVER_IP  traefik.company.local

2. Для проверки локального доступа можно использовать использовать

   		sudo nano /etc/hosts
   
		SERVER_IP  glpi.company.local
		SERVER_IP  traefik.company.local


_____________________________________________________________________________________________________________________________________________________

Шаг 5

_____________________________________________________________________________________________________________________________________________________

Запускаем !

		cd ~/glpi-traefik-mariadb
		docker-compose -f traefik/docker-compose-traefik.yml up -d
		docker-compose -f mariadb_glpi/docker-compose-mariadb.yml up -d
		docker-compose -f glpi/docker-compose-glpi.yml up -d
Получаем доступ по 

	traefik.company.local
 	glpi.company.local
